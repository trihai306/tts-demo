!function (e) {
    "function" == typeof define && define.amd ? define(e) : e();
}(function () {
    "use strict";

    function setTheme() {
        var t = "tablerTheme";
        var a = new Proxy(new URLSearchParams(window.location.search), {
            get: function (e, t) {
                return e.get(t);
            }
        });

        var theme = a.theme ? a.theme : localStorage.getItem(t) || "light";

        // Ensure theme setting is applied once the body is available
        if (document.body) {
            if (theme === "dark") {
                document.body.setAttribute("data-bs-theme", theme);
            } else {
                document.body.removeAttribute("data-bs-theme");
            }
        } else {
            // Wait for the DOM to be ready if document.body is not available yet
            document.addEventListener("DOMContentLoaded", function () {
                if (theme === "dark") {
                    document.body.setAttribute("data-bs-theme", theme);
                } else {
                    document.body.removeAttribute("data-bs-theme");
                }
            });
        }

        if (a.theme) {
            localStorage.setItem(t, a.theme);
        }
    }

    setTheme();
});
